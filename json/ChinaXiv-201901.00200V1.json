[
    {
        "type": "text",
        "text": "基于智能手机传感器的基础行为识别方法研究",
        "text_level": 1,
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "孔菁，郭渊博，刘春辉，王一丰(战略支援部队信息工程大学 密码工程学院，郑州 450001)",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "摘要：为提高人类行为识别准确性的同时降低实现过程的复杂程度，提出基于智能手机加速度传感器与陀螺仪数据对六种日常基础行为进行识别的方法。在分析传感器框架的基础上，对加速度传感器进行数据采集并对原始数据进行数据预处理，然后采用主成分分析方法结合已有知识对数据统计特征进行降低维数处理，再利用机器学习算法实现对行为特征的分类与识别，目的是简化基础行为的识别过程并提高数据的利用率。实验测试结果验证了决策树与支持向量机分类器结合使用的有效性，识别准确率可接近 $9 7 \\%$ 。",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "关键词：智能手机传感器；基础行为；主成分分析；决策树；支持向量机分类器中图分类号：TP393 doi:10.19734/j.issn.1001-3695.2018.10.0728",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "Basis behavior recognition based on sensors in smartphone ",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "Kong Jing, Guo Yuanbo,Liu Chunhui, Wang Yifeng (Cryptography Engineering Institute,PLA Information Engineering University,Zhengzhou 45oo01,China) ",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "Abstract:To improve theaccuracy of human behavior recognition and reduce thecomplexityof the implementation process,this paper raises a methodusing the data ofaccelerationsensor and gyroscope in smartphone to recognize six kinds of daily basic behaviors.Data ofaccelerationsensorarecolectedand preprocessed after analyzing theframework of sensor, then principal component analysis method combining with existing knowledge are used to reduce the dimension of the statistical characteristics of theoriginaldata.Then machine learning algorithms are used to clasifyand recognize the behavioralcharacteristics,which aimed at simplifyingthebasic behaviorrecognition processand improving theutilization rate of the data.The experimentalresult shows thatthecombinationof decisiontre and support vector machine clasifieris effectual, and the recognition accuracy can be close to $9 7 \\%$ ",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "Key words:smart phone sensors;basic behaviors;principal component snalysis;decision tree；support vector machin classifier ",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "0 引言",
        "text_level": 1,
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "人类行为识别(human activity recognition，HAR)利用外界数据对动作类型、行为模式进行识别和分析，是计算机检测和理解人类运动和行为的主要方法，可用于对特殊行为的检测或监察[1]。早期行为识别研究主要利用的是可穿戴设备，将具有记录功能的运动传感器固定在身体特定部位，数据采集过程对工作生活造成很大影响，不宜于推广和使用。智能手机作为畅销移动通信设备，其越来越完善的功能在提供便捷的同时传感器硬件快速更新换代对行为识别研究而言使得自动监察和监控日常生活行为有了实现的可能[2]。基于智能手机传感器的行为识别研究成果已在多领域应用。与可穿戴设备相比，基于智能手机传感器的行为识别现实意义更强[3]。",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "基础行为识别的研究意义重大，是复杂行为识别、运动方式分析的基础。由于基础行为具有不可再分的原子性，内容丰富的行为均是基础行为的组合与衍生，准确识别基础行为并综合考虑时间空间开销是后续研究的前提。基础行为识别所选用的数据处理与分类算法对后续日常行为识别研究内容有着重要的借鉴意义。利用智能手机传感器对基础行为识别进行研究与探索从实际应用角度来讲是计算机研究内容的重要部分，行为识别研究成果在智能传感感知系统中的广泛应用也对无线物联网领域的发展起到良好的促进作用。",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "智能手机的普及意味着用户时刻携带一台小型计算机，这使得智能手机可当作可穿戴设备的计算中枢。利用智能手机内置传感器对基础行为进行研究与探索在现如今变得越来越有意义，利用新型算法并根据时代需求不断更新、优化、改善，可以提出更好的思路并开拓更广阔的应用市场。Lee等人[4利用加速度传感器对活动进行识别的同时考虑到手机存储空间和计算能力的问题，设计了分层识别的系统，先通过第一层隐马尔可夫模型(hiddenMarkovamodel,HMM)对活动的时间序列进行识别，再通过下一层隐马尔可夫模型识别用户的具体活动，实现难度较大的同时空间开销较大。Yan等人[5]在手机资源消耗小、识别准确率高的前提下提出了A3R模型，该模型是基于传感器自适应的活动识别模型，可识别一系列的连续简单活动。Zhang等人[利用手机加速度传感器数据离线识别人体小幅度和部分剧烈活动，将活动进行分级分类，先识别是否是静止，再进行后续具体活动分识别。这种方法主要是利用离线数据集进行实验与测试，缺乏行为识别的实时性。Lu等人[7设计提出了Jigsaw 系统用于手机多传感器数据的行为识别，这些传感器先分别利用自身采集的数据先进行分类，再将结果相结合分析，确定用户最终行为。这种分开在结合的研究方式是现今比较流行的识别方法。由于行为通常是上下文相关的，Do等人[8利用多个传感器数据应用上下文模型对人类行为进行识别，根据模型特征提取不同运动模式，用概率统计方法将这些模型结合用于最后的活动识别。智能手机使用信息亦可反映用户的行为信息[9]，如其中特定功能的使用次数、应用程序中的反馈信息等。综上可见，在手机环境下进行数据处理需要综合考虑算法实现难度和资源利用等问题，要尽可能地避免对手机正常使用造成影响。",
        "page_idx": 0
    },
    {
        "type": "text",
        "text": "",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "已有利用智能手机传感器的研究中对静止、缓慢行动、剧烈运动三种行为状态的识别颇具代表性，可基本概括出用户正常的生活状态。本文根据在真实场景中不同行为在日常生活中发生概率的不同将这三种状态具体化为六种日常基础行为：站立、坐、平躺、步行(水平)、上行(步行上楼梯)和下行(步行下楼梯)，提出了基于智能手机传感器数据对基础行为进行识别的方法。由于剧烈运动在日常生活中发生频率不高，所以没有具体细化。该方法首先对加速度传感器和陀螺仪在X、Y、Z轴三个方向多个原始数据统计特征结合已有知识进行提取，再利用决策树和支持向量机分类器相互结合的方法进行行为分类识别。",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "1 基本思路",
        "text_level": 1,
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "基于智能手机传感器数据的基础行为识别通用过程包括传感器数据采集、数据处理、特征提取和分类识别四个模块，如图1所示。首先选择代表性强的志愿者对多传感器进行的数据采集，将加速度传感器数据单独分离出来用于本文实验；然后对原始数据进行数据预处理，去除不可用和不平稳阶段的数据以保证数据质量；接下来利用数据降维技术和已有物理常识以及数据统计知识对数据特征进行选择与提取并对分类器进行训练，完成行为识别分类器的训练阶段。",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "数据处理  \n数据采集(预处理与清洗)特征提取  \n分类识别(特征提取与训练)",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "由于数据质量直接影响识别结果[10]，数据处理工作为实验中的重要组成部分。图2展示了由原始数据到最后实验数据的数据信息流。",
        "page_idx": 1
    },
    {
        "type": "image",
        "img_path": "images/f91306ca4b2966d8efcf67447efbd495421148c9ef25a103f7b4490ffca17db7.jpg",
        "img_caption": [
            "图1行为识别通用流程",
            "Fig.1Generic flowchart for behavior identification ",
            "图2数据信息流向",
            "Fig.2Data information flow "
        ],
        "img_footnote": [],
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "原始数据首先要经过数据预处理，将其中噪声等不可用的数据去除，从而得到相对于原始数据而言的“纯数据”；然后对多种数据特征进行降维处理，提取出20余种特征用于描述每种行为，这些特征包括常规的极大极小值、均值、标准差、相关性系数、信号幅度区、自回归系数等常见数理统计特征，也包含频段能量、频偏、向量间角度等不常见的其他领域特征；经此过程最后得到的数据可直接集成用于训练和测试的数据集。",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "基础行为识别过程主要包括数据降维和数据分类两部分设计。其中，主成分分析(principal component analysis，PCA)是数据压缩效果较好的算法。主成分分析方法对新主元素向量按照重要性进行排序，根据需要自前向后取所需的重要部分并将后面的维数省去，从而达到对数据维度进行压缩的效果，同时最大程度保持了原有数据信息。其最大优点是过程中完全无参数限制，计算时不需要人为设定参数或根据已有研究经验进行干预，最后得到的结果只与原始数据相关，与人为主观条件无关。对于基础行为识别过程中应用的特征选择而言，主成分分析的优点可满足数据训练需求，故本文首先选用主成分分析方法对数据特征进行压缩，减少人工选择的工作量。由于手机传感器产生的数据是依据时间序列的，具有连续、局部相关性高的特点，最后选择出实验所用的数据特征多为时序特征。",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "现有行为识别过程中所选用得而分类方法多是单一分类算法，但在实际解决问题时单一的分类器无法满足高精度识别的需求，多种类分类器的集成使用在性能和效率方面都要优于单一分类器的应用。根据对选定行为特征的分析，首先将本文六种行为的识别过程描述为多次二分类问题；决策树和支持向量机分类器在二分类问题的处理中均具有易于实现、训练数据量小和分类准确度高的特点[1]，结合使用还可以避免过拟合等情况的发生，故本文实验选择在决策树的树节点处对支持向量机进行训练，将两分类器的优点融合，提高数据的利用率并改进了识别的效率。",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "基于上述思想，本文首先利用主成分分析和人工干预的方法对数据特征进行降维处理，对实验中训练和测试所需要的数据特征进行约简并得到最优特征子集，再利用决策树与支持向量机集成的分类器完成对日常基础行为的识别。",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "2 行为识别 ",
        "text_level": 1,
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "行为识别过程中所选分类器性能的好坏直接影响最后识别的效果；同时用于分类的数据特征的质量对分类结果也有着不可忽略的作用。一般来说，每个行为可越清晰的在特征空间与其他行为的特征分离出来识别性能就会越好。理想情况下，相同行为的特征在特征空间相同位置聚集，不同行为的特征则相距甚远。同时，好的行为识别特征可以在不同个体及相同行为组内有变异时体现出足够的鲁棒性。本节将对数据降维方法即特征选择技术和行为识别分类器进行详细介绍。",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "2.1基于主成分分析的数据降维",
        "text_level": 1,
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "行为识别领域公认可用特征有很多，本节处理对象是数据的统计特征。这些特征主要依靠计算产生，如极大极小值、均值、方差、标准差、百分位数值、熵、能量、峰度系数、平均绝对偏差、轴相关性、斜率、曲率等，因获取简单且分类性能好在行为识别领域应用广泛。特征空间维数越高，对计算密集型分类问题而言所需训练时间和数据就越多。因此，这部分工作的目的是保证实验中应用最少的特征且分类可达到目标效果。人工参与虽必不可少，但手动选择全部特征过于繁琐，故首先使用特征自动排序和选择方法进行初步筛选，再利用物理知识进行人为补充。",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "在统计学中主成分分析是一种简化数据集的常用技术，旨在利用降维思想把多维指标转换为少数综合指标，是一个线性变换。这个变换把数据转换到新坐标系中，使得原始数据投影的第一大方差在第一个坐标(称为第一主成分)上，第二大方差在第二个坐标(第二主成分)上，依次类推。该变换过程通过保留低阶主成分忽略高阶主成分的方法在减少数维数的同时保持对方差贡献最大的特征，这样低阶成分往往能够保留数据重要方面的信息。",
        "page_idx": 1
    },
    {
        "type": "text",
        "text": "",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "主成分分析是为了克服最小二乘法估计在数据矩阵存在多重共线时表现出的不稳定性而提出来的，其主要思想是依据数据寻找一个主轴方向，再依据这个主轴构建新坐标系，维数比原维数降低，将数据由原坐标系向新坐标系投影，投影过程即数据降维的过程，使得到的新变量带有独特的代表含义。主成分分析方法的过程，实际上是一个构造转换矩阵的过程。以下将对主成分分析方法的具体实现步骤进行具体说明。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "1）对原始数据特征进行标准化计算。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "设指标变量共有 $m$ 个，分别为 $x _ { I }$ ， $x _ { 2 }$ ，.， $x _ { m }$ ，共有 $n$ 个对象，第 $i$ 个对象的第 $j$ 个指标的取值为 $a _ { i j }$ 。将各指标转 换成标准化标值，有 ",
        "page_idx": 2
    },
    {
        "type": "equation",
        "text": "$$\n\\tilde { a } _ { i j } = \\frac { a _ { i j } - \\mu _ { i j } } { s _ { i j } }\n$$",
        "text_format": "latex",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "其中： （2 $i = 1 , 2 , \\cdots , n$ ， （204号 $j = 1 , 2 , \\cdots , m$ $\\mu _ { i j } = { \\frac { 1 } { n } } { \\sum } _ { i = 1 } ^ { n } a _ { i j }$ $s _ { i j } = \\sqrt { \\frac { 1 } { n - 1 } \\sum _ { i = 1 } ^ { n } ( a _ { i j } - \\mu _ { i j } ) ^ { 2 } }$ ∑\"(aj-μj)²，即μj、si为第j个指标的样本均值和样本标准差。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "称 $\\widetilde { x } _ { i j } = \\frac { x _ { j } - \\mu _ { j } } { s _ { j } }$ ， $j = 1 , 2 , \\cdots , m$ 为标准化指标变量。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "2）计算相关系数矩阵 $\\pmb { R } = ( r _ { i j } ) _ { m \\times m }$ ，有",
        "page_idx": 2
    },
    {
        "type": "equation",
        "text": "$$\nr _ { i j } = \\frac { \\sum _ { k = 1 } ^ { n } \\overline { { a } } _ { k i } \\times \\overline { { a } } _ { k j } } { n - 1 } \\ , \\ i , j = 1 , 2 , \\cdots , m\n$$",
        "text_format": "latex",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "其中： $r _ { i i } = 1$ ， $r _ { i j } = r _ { j i }$ 是第 $i$ 个指标与第 $j$ 个指标相关系数。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "3）计算特征值与特征向量。首先计算相关系数矩阵 $R$ 的特征值 $\\lambda _ { 1 } \\geq \\lambda _ { 2 } \\geq \\cdots \\geq \\lambda _ { m } \\geq 0$ ，及对应的特征向量 $\\mu _ { 1 } , \\mu _ { 2 } , \\cdots , \\mu _ { m }$ ，其中$\\boldsymbol { \\mu } _ { j } = [ \\mu _ { 1 j } , \\mu _ { 2 j } , \\cdots , \\mu _ { m j } ] ^ { \\mathrm { T } }$ ，由特征向量组成 $m$ 个新的指标变量，有",
        "page_idx": 2
    },
    {
        "type": "equation",
        "text": "$$\n\\begin{array} { r l } & { y _ { 1 } = \\mu _ { 1 1 } \\tilde { x } _ { 1 } + \\mu _ { 2 1 } \\tilde { x } _ { 2 } + . . . + \\mu _ { m 1 } \\tilde { x } _ { m } } \\\\ & { y _ { 2 } = \\mu _ { 1 2 } \\tilde { x } _ { 1 } + \\mu _ { 2 2 } \\tilde { x } _ { 2 } + . . . + \\mu _ { m 2 } \\tilde { x } _ { m } } \\\\ & { . . . } \\\\ & { y _ { m } = \\mu _ { 1 m } \\tilde { x } _ { 1 } + \\mu _ { 2 m } \\tilde { x } _ { 2 } + . . . + \\mu _ { m n } \\tilde { x } _ { n } } \\end{array}\n$$",
        "text_format": "latex",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "其中： $y _ { I }$ 是第一个主成分， $y _ { 2 }$ 是第二个主成分，依此类推。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "4）选择 $p ( p \\leq m )$ 个主成分，并分别计算主成分的贡献率及累计贡献率。即计算特征值 $\\lambda _ { j }$ 的信息贡献率和累计贡献率。主成分 $y _ { i }$ 的信息贡献率式4)，主成分 $y _ { 1 } , y _ { 2 } , \\cdots , y _ { p }$ 的累计贡献率式(5)分别为",
        "page_idx": 2
    },
    {
        "type": "equation",
        "text": "$$\nb _ { j } = \\frac { \\lambda _ { k } } { \\sum _ { k = 1 } ^ { m } \\lambda _ { k } } \\quad j = 1 , 2 , \\cdots , m\n$$",
        "text_format": "latex",
        "page_idx": 2
    },
    {
        "type": "equation",
        "text": "$$\n\\alpha _ { p } = \\frac { \\sum _ { k = 1 } ^ { p } \\lambda _ { k } } { \\sum _ { k = 1 } ^ { m } \\lambda _ { k } }\n$$",
        "text_format": "latex",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "当 $\\alpha _ { { \\scriptscriptstyle p } }$ 接近1时(一般取值为0.85，0.9，0.95等)，则选择前 $p$ 个指标变量 $y _ { I }$ ， $y _ { 2 }$ ，…， $y _ { p }$ 作为 $p$ 个主成分，代替原来的 $\\mathbf { \\nabla } m$ 个指标变量，从而可对 $p$ 个主成分进行综合分析。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "5）计算综合得分。 $b _ { j }$ 综合得分为第 $j$ 个主成分的信息责献率，根据综合得分即可评价。综合得分计算方法为",
        "page_idx": 2
    },
    {
        "type": "equation",
        "text": "$$\n\\scriptstyle { Z = \\sum _ { j = 1 } ^ { p } b _ { j } y _ { j } }\n$$",
        "text_format": "latex",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "综上可见，主成分分析方法将原有传感器数据特征变换成另一组数据特征，即得到原始数据集的主成分，选择其中部分重要的主成分作为新的自变量，丢弃了其他影响不大的部分自变量，实际上达到了对数据特征降维目的。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "2.2基于决策树的数据分类 ",
        "text_level": 1,
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "决策树(decisiontree)算法是对基础行为的识别研究中应用广泛的分类算法[12]，其结构类似于流程图的树状结构，通过训练数据构建决策树，可对未知数据进行高效的分类。决策树得而核心思想首先是在数据集中找到一个最优特征；然后从该特征的选值中再找出一个最优候选值，根据这个最优候选值将目标数据集分成两个子数据集；最后不断递归上述操作，直到满足指定条件即为结束。其中最顶层节点为根节点，每个非树叶节点表示针对某一个特征值的测试，每个分支表示相应特征值的测试输出，每个树叶节点则表示从根节点到该树叶节点的路径所表示对象的类别。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "采用决策树算法的基本方法就是首先利用训练样本构建决策树，然后将待测样本的特征向量从该决策树根节点出发，按照相应特征值的测试输出，沿着决策树一直到达树叶节点，便获得该样本的最终分类结果；而在二类分类模型中支持向量机分类器在小样本、非线性模式识别中优势很强，适用于处理加速度传感器数据。决策树有支持向量机的结合使用可以增强分类效果并降低空间和时间开销。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "决策树即二叉树。其主要优点在于：生成的规则可理解性强，训练过程有普适性；对计算量的要求相对来较小，符合传感器数据集规模；在处理连续种类字段时性能较好，契合传感器数据的数据特征；可显示出重要信息字段，是性能较好的二分类算法。而作为二类分类模型的另一种算法支持向量机分类器在小样本数据集、非线性模式识别中优势很强;多分类问题可转换为多个二分类问题进行解决。本文综合两种分类算法优点，采用决策树与支持向量机结合使用的方法实现对六种基础行为的多分类识别。具体方法为在决策树各节点处对支持向量机分类器进行训练，再对其进行样本识别和分类的测试。首先构建决策树分为以下两步：",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "a)决策树的生成。利用经过多层预处理的传感器训练样本数据集生成对应的决策树。训练样本数据集要根据实际需求由有一定综合程度、已准确分类的数据组成，用于分析处理后集成的数据集。本实验训练数据集包含完全分类好的正向数据，满足实验中准确生成分类决策树的需求。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "b)决策树的剪技。决策树的剪枝是对决策树结构合理性的检验与校正，并对下一阶段的修正过程，主要用于测试数据集中的数据对决策树生成过程中产生的初步规则进行校对，将部分影响准确性或对准确性无用的分枝剪除。这一步骤结合常用物理知识选择处合适且少量的数据特征用于描述两种行为之间的区别。",
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "结合决策树分类方法和支持向量机分类器，多步骤的二分类进行如图3所示。",
        "page_idx": 2
    },
    {
        "type": "image",
        "img_path": "images/a06da7e8cfea4c87e666ee71715646d0174450bd3578af628dc8308fee1c3268.jpg",
        "img_caption": [
            "图3决策树与支持向量机结合分类方法",
            "Fig.4Decision tree is combined with support vector machine for classification "
        ],
        "img_footnote": [],
        "page_idx": 2
    },
    {
        "type": "text",
        "text": "分类时特征值的选取对使用二叉树思想进行行为识别至关重要，通过前一步骤的分析与提取后在分类前仍需对处理后的特征进行人工筛选加以详细分析，提取出针对每对行为不同的特征值，提高分类效率的同时降低时间空间开销。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "1）静止与其他。静止与步行、上行和下行其他类行为在数据特征上较为明显。当用户处于静止状态时加速度传感器的变化量极小到可忽略，数据波动也较小；当用户携手机步行、上行、下行或进行剧烈活动时，加速度传感器变化幅度数据波动都很大。通过对采集到的加速度传感器原始数据的分析后决定对选择加速度传感器三轴合成的加速度进行特征选择，将其在三个方向上的均值、方差作为特征值，以区分静止和其他。具体分为两步进行：首先由加速度传感器在三个方向上的数据 $a _ { x }$ ， $| a _ { y } |$ ， $a _ { z }$ 得到合成加速度；然后计算合成加速度的均值、方差等特征值。其合成加速度为",
        "page_idx": 3
    },
    {
        "type": "equation",
        "text": "$$\na = \\sqrt { a _ { x } ^ { 2 } + a _ { y } ^ { 2 } + a _ { z } ^ { 2 } }\n$$",
        "text_format": "latex",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "2）水平静止与竖直静止。因为手机屏幕朝向会影响重力加速度的分布，区分这两个行为较为容易。手机屏幕朝上平放时， $X$ 轴默认为0， $Y$ 轴默认0， $Z$ 轴默认 $_ { + 9 . 8 1 }$ ；手机屏幕竖直向前或后时， $X$ 轴默认为 $0 , Y$ 轴默认 $+ 9 . 8 1$ ， $Z$ 轴默认0;手机屏幕水平向前或后时， $X$ 轴默认为 $+ 9 . 8 1$ ， $Y$ 轴默认0，Z轴默认0。实验时该过程比较 $X$ 、Y、 $Z$ 三个方向上加速度数值的大小，通过分析最大值所属坐标轴即可完成分类。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "3）站立与坐。站与坐的区分是已有基础行为识别研究中较难区分的两个行为，平均识别率在 $8 5 \\% { \\sim } 9 0 \\%$ 。由于大多数用户在静坐时上半身保持挺直，与站立时在形体姿态上无明显差别，智能手机中加速度传感器与陀螺仪类似的无须许可的传感器无法判断所处高度，在数据特征表示方面几乎下相同。在进行这两种行为的数据采集过程是发现由于坐下时腿部和跨的弯曲和移动会导致陀螺仪 $Z$ 轴的数据发生轻微变化，故选择Z轴方向数据的变化情况作为区分站与坐的数据特征。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "4）步行与其他。步行和上行、下行的数据特征在极大极小值、均值、方差、频率等方面均无显著区别。根据对原始数据的观察，步行时由于未克服重力做功数据样本在Z轴方向与9.81很接近，而上下行的样本数据在Z轴上的加速度数据幅值(极大值减去极小值)比步行波动要大，可把此特征值用来区分步行和上行。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "具体分为三步进行：首先遍历数据样本，输出短时间内极大值数组和极小值数组；然后通过利用极大极小值数组计算得到幅值数组；最后对幅值数据求均值和方差。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "5）上行与下行。上行与步行在数据特征上较接近。上行时由于重力做负功消耗能量较多，跨步的动作频次普遍会降低；相反，下行时重力做正功，动作相对较轻松，动作频次普遍较快，每两步之间的停留时间会变短。因此，可将用户在每两步间的停留时间和跨步频率作为区分上行与下行的数据特征；同时由于上行时重力做负功，所以Z轴方向的数值一般情况下小于9.81，下行时重力做正功，所以Z轴方向大于9.81，因此Z轴加速度数值与9.81的差值正负也可作为区分下行与下行的数据特征。通过观察多组样本，发现Y轴上的加速度数据在下行时的图像曲线波动频率明显比上行要快，因此采用频率即极大值和极小值的时间间隔作为上行与下行的区分特征值，并对频率求均值以完整刻画平均跨步频率。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "这部分实现的具体过程分为三步：首先需要遍历数据样本并分割周期得到极大值对应的时间数组与极小值对应的时",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "间数组；然后通过简单的差值计算得到相对应的频率数组；  \n最后计算频率数组的均值。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "3 实验与结果分析",
        "text_level": 1,
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "3.1实验数据集",
        "text_level": 1,
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "目前Android、IOS或黑莓等市场上常见的智能手机系统上均没有对无须许可的传感器进行特殊管理或保护其数据信息流的管理控制机制，即任意应用程序都可通过访问传感器应用程序接口从而访问所有无须许可的传感器并获取其数据，这亦是本实验数据采集框架的理论基础。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "智能手机传感器应用程序接口是一组定义程序及协议的集合，通过该接口实现应用程序与应用程序、应用程序与传感器硬件、传感器硬件与传感器硬件之间的相互通信；其主要功能是提供通用功能集，为应用程序开发人员提供可以访问的一组例程[13]，而又无须访问源码或理解内部工作机制的细节，这样程序开发人员在开发应用程序时可通过调用应用程序接口提供的函数直接对应用程序进行开发，减轻了研发过程中的编程任务。应用程序接口同时也是一种中间件，为各种不同的平台提供数据共享功能。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "本文实验在Android系统智能手机上完成，数据采集和数据处理方法经适当地调整可推广到其他型号和系统的智能手机上。在数据采集阶段首先利用Android 智能手机内部传感器组织框架集成了一个小型应用程序用于获取实验所需的无许可传感器数据。为方便后续实验中数据导出，首先将存储卡的数据读写权限授予该应用程序；然后导入可处理监听事件的硬件监听，同时对实验用到的传感器逐一注册监听器；最后利用 Android 调试工具生成 APK(Android package,Android应用程序安装包)，导入手机安装成功后在开启状态下即可监听传感器产生的数据并写入指定列表。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "目前的手机应用程序分为系统应用程序和非系统应用程序，其中系统应用程序由生产商设置，在手机出厂时已完成安装，通常情况下用户在购买后使用时无法卸载或修改权限。而非系统应用程序在安装时首先通过开发工具包向应用程序接口平台发送访问某个传感器的请求，然后将应用程序注册到相应的传感器。如果多个应用程序同时尝试注册相同的传感器，应用程序接口平台会运行多路复用程序，使不同应用程序可在同一个传感器中同时注册。硬件抽象层(hardwareabstractlayer，HAL)是系统内的接口，将传感器硬件与系统的设备驱动程序相互绑定。硬件抽象层具体由Sensors.h和Sensors.cpp 两部分组成。Sensors.h 是硬件抽象层的接口，Sensors.cpp为硬件抽象层实现具体指令的工作。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "通过硬件抽象层的本机库，不同的应用程序可以与底层的Linux内核通信，读取和写入与制定的传感器相关的文件。目前对于大多数传感器而言访问这些文件不需要任何权限。而对于需许可的传感器则需要用户一个明确的授权，以确保应用程序可以正确的访问一个特定的文件。用户授权信息会在系统清单中具体声明，一旦用户在安装程序之初选择接受，后期即使在没有其他明确许可的情况下该应用程序也可以直接访问其他无许可传感器。同时Android系统传感器框架可用来访问设备的内置传感器，并提供了有助于完成数据采集工作的接口，这些接口可用于在采集中确定内置传感器种类，并在注册和注销传感器权限时执行监听。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "3.2实验及结果分析",
        "text_level": 1,
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "为实现数据普遍性和代表性，志愿者选自于不同年龄、不同身高、不同性别和不同职业。每项行为均有250组数据，共计1500组数据样本，每个样本的时间长度约为 $5 \\mathrm { ~ s ~ }$ 。对于实验中训练和测试所用数据，取数据集中的 $8 0 \\%$ 完全正向分类后的数据为训练所用，其余 $20 \\%$ 数据混合后进行模型测试(共计300组测试样本)。在实验中传感器的取样频率为$1 0 0 0 \\mathrm { H z }$ ，按每秒15个数据点形成向量，每组数据取平稳阶段的3s形成一组向量。采集数据时将屏幕朝前竖直固定于腰间，且实验和测试数据在采集时行为明确且严格控制变量，志愿者在进行指定行为时均统一使用三星note3智能手机。考虑到可能会出现过拟合和欠拟合现象，将数据集进行4次交叉实验，即训练数据与测试数据是完全随机选取的，分别进行测试得到准确率。",
        "page_idx": 3
    },
    {
        "type": "text",
        "text": "",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "实验测试结果如表1所示。在本实验认为六种行为权重相同，综合准确率即平均准确率。(其中静止1为躺，静止2为站立，静止3为坐)",
        "page_idx": 4
    },
    {
        "type": "table",
        "img_path": "images/1bd75eb821fb774e849d9a7a65a0e7180bb1752967f35fda4f28d7ebcf94c681.jpg",
        "table_caption": [
            "表1实验识别准确率 $1 \\%$ Table1Experimental identification accuracy $7 \\%$ "
        ],
        "table_footnote": [],
        "table_body": "<html><body><table><tr><td></td><td>静止1</td><td>静止2</td><td>静止3</td><td>步行</td><td>上行</td><td>下行</td><td>综合</td></tr><tr><td>1</td><td>100</td><td>98.6</td><td>96.4</td><td>98.0</td><td>96.0</td><td>95.6</td><td>97.4</td></tr><tr><td>2</td><td>100</td><td>99.2</td><td>97.6</td><td>96.8</td><td>95.6</td><td>96.4</td><td>97.6</td></tr><tr><td>3</td><td>100</td><td>99.6</td><td>97.2</td><td>97.6</td><td>96.8</td><td>96.0</td><td>97.9</td></tr><tr><td>4</td><td>100</td><td>98.8</td><td>96.0</td><td>96.8</td><td>96.4</td><td>95.6</td><td>97.3</td></tr></table></body></html>",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "进过四次训练后，实验在测试数据集对六种行为的识别平均准确率约为 $9 7 . 5 \\%$ ，说明有一定的可行性和实现意义。其中该方法对于水平静止可达到 $100 \\%$ 的识别率，屏幕朝向对于该行为的判断准确有效；对站立和坐的识别效果也较好，后者会导致手机轻微转动，使得陀螺仪数据发生变化，从而加入陀螺仪数据后对坐的识别准确率明显有所提高；其次对步行的识别率也很可观，达到 $9 7 . 3 \\%$ 的平均准确率；对于上行与下行较难区分，识别准确率大概在 $9 6 \\%$ 左右。",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "为进一步分析实验识别过程中可能存在的缺陷，掌握每种行为识别中具体出现的偏差，将综合识别效果最好的第三组实验的识别初始内容与结果单独列出进行逐项分析，具体识别内容如表2所示。",
        "page_idx": 4
    },
    {
        "type": "table",
        "img_path": "images/efe1308301d549551f4722109fb49b129681e634d0be72dc3ba37cba41ad7b0c.jpg",
        "table_caption": [
            "表2第三组实验具体识别内容",
            "Table 2 Third group identified specific content ",
            "表3实验结果比对"
        ],
        "table_footnote": [],
        "table_body": "<html><body><table><tr><td></td><td>静止1</td><td>静止2</td><td>静止3</td><td>步行</td><td>上行</td><td>下行</td></tr><tr><td>静止1</td><td>250</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>静止2</td><td>0</td><td>249</td><td>7</td><td>0</td><td>0</td><td>0</td></tr><tr><td>静止3</td><td>0</td><td>1</td><td>243</td><td>0</td><td>0</td><td>0</td></tr><tr><td>步行</td><td>0</td><td>0</td><td>0</td><td>244</td><td>0</td><td>3</td></tr><tr><td>上行</td><td>0</td><td>0</td><td>0</td><td>2</td><td>242</td><td>7</td></tr><tr><td>下行</td><td>0</td><td>0</td><td>0</td><td>4</td><td>8</td><td>240</td></tr></table></body></html>",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "测试时每项行为均有250组数据，由上表可见在识别时站与坐两种行为易发生混淆，除数据特征在选择上存在不足和实验误差外一定程度上受该型号智能手机的陀螺仪采样频率和陀螺仪敏感度的影响，调整数据采集频率并使用的陀螺仪型号对最终结果有一定改善作用；同时步行、上行、下行是实验中最难区分的行为，其中上行和下行的识别效果有待改进，应继续寻找效果更好的数据特征。",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "对比方法相似的已有研究，文献[14]中识别的测试结果较好，但没有对实验分类过程中可能出现的数据过拟合现象进行处理，最终得到的结果有待考察。其中利用主成分分析与支持向量机分类器的方法与本文实验测试结果相比在上行、下行和步行三个行为上的效果相差不多，但对于站立与坐的准确率比本实验低较多，实验整体识别准确率也较低。而对比使用其他方法进行基础行为识别的研究，主成分分析方法与决策树相结合的方法也有明显优势。",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "文献[15]中主要利用稀疏局部保持投影法(sparse localpreservingprojection，SpLPP)与随机森林集合使用的方法，并与随机场驱动的Ising模型(即RFIM)的结果进行比对，识别准确度结果如表3所示。",
        "page_idx": 4
    },
    {
        "type": "table",
        "img_path": "images/5fad0164703996acbfeaf318339708180282908fe36469ca7b0e4f241e0d6447.jpg",
        "table_caption": [
            "Table 3Comparison of experimental results "
        ],
        "table_footnote": [],
        "table_body": "<html><body><table><tr><td>方法</td><td>总体准确度</td></tr><tr><td>PCA+SVM[14]</td><td>96.2%</td></tr><tr><td>SpLPP+RF[15]</td><td>97.4%</td></tr><tr><td>LPP+RF[15]</td><td>96.6%</td></tr><tr><td>RFIM+RF[15]</td><td>91.2%</td></tr><tr><td>PCA+RF[15]</td><td>91.4%</td></tr><tr><td>PCA+DT(本文)</td><td>97.5%</td></tr></table></body></html>",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "文献[15]中稀疏局部保持投影法与随机森林结合使用比主成分分析与随机森林结合使用更有优势，但从识别准确度上来看与本实验识别结果无明显区别。随机森林既是多个决策树随机建立的森林，且每一个决策树之间没有关联，对于单决策树就可解决的基础行为识别问题而言无疑在未改善结果的情况下造成了严重的资源浪费，故对于智能手机环境下的资源开销而言本实验的设计更合理。根据上述比较结果可见本文所提出的方法相比已有相似研究在方法和应用适用性上有所改善，对基础行为的识别准确率上也有所提高。",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "综合来看，对六种基础行为的综合识别准确率较理想，与已有研究成果相比提高了准确性并降低了复杂程度，达到了预期目的并证明了所提出方法的有效性，为后续实验增加行为数量和行为内容的优化奠定了基础，同时对复杂行为的识别和分析相关研究提供了运算时间和程序结构的参考，在空间开销的上也有一定的借鉴作用。",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "4 结束语",
        "text_level": 1,
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "本文通过利用智能手机内置加速度传感器和陀螺仪的三轴数据，采用主成分分析与人工筛选相结合的方法对多种特征值进行提取，选用决策树与支持向量机分类器结合使用的多分类方法，在决策树的各节点处训练支持向量机，建立基于智能手机加速度传感器的用户行为识别方法。经实验测识别准确率在 $96 \\%$ 左右，总体来说验证了所提出方法的有效性和可行性，为智能手机实现健康监测、时间管理、信息筛选等奠定了基础。",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "随着现代科技的不断发展，人类行为识别的研究从大型设备逐步转向小型化，为行为识别寻找更加方便的应用途径。在智能手机普及的今天，手机不止是通信工具而是具有综合功能的便携式电子设备，具有独立操作系统和运行空间可实现多种多样的功能，这意味着智能手机可以获取、利用、提供的数据会越来越多。在未来的发展中，智能手机中可集成的传感器种类会不断增多，传感器硬件的更新优化速度也会不断加快，这无疑将为行为识别研究提供了更加便利的条件和思路。",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "参考文献：",
        "text_level": 1,
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "[1]Chen Yufei,Shen Chao.Performance analysis of smartphone-sensor behavior for human activity recognition [J].IEEE Access,2O17,5(99): 3095-3110.   \n[2]Anguita D,Ghio A,Oneto L,et al.A public domain dataset for human activity recognition using smartphone[Cl//Proc of European Symposium on Artificial Neural Networks.2013:437-442.   \n[3]Ronao C A,Cho S B.Human activity recognition with smartphone sensors using deep learning neural networks [M].[S.l.]:Pergamon Press, Inc,2016.   \n[4]Lee Y,Cho S B.Activity recognition using hierarchical hidden Markov models on a smartphone with 3D accelerometer [z].2011:460-467.   \n[5]Yan Zhixian,Subbaraju V,Chakraborty D.Energy-efficient continuous activity recognition on mobile phones:An activity-adaptive approach [C]//Proc of 16th International Symposium on Wearable Computers. Piscataway,NJ:IEEE Press,2O12:17-24.   \n[6]Zhang Shumei,Paul JM,Nugent C D.Activity monitoring using a smart phone's accelerometer with hierarchical classification [C]// Proc of the 6th International Conference on Intelligent Environments.2010: 158-163.   \n[7]Lu Hong，Yang Jun,Liu Zhigang.The Jigsaw continuous sensing engine for mobile phone applications [C]// Proc of the 8th ACM Conference on Embedded Networked Sensor Systems.2O1O:71-84.   \n[8]Do T M T,Gatica-Perez D.Contextual conditional models for smartphone-based human mobility prediction [C]// Proc of ACM Conference on Ubiquitous Computing.2012:163-172.   \n[9]Berchtold M,Budde M,Gordon D.Actiserv:activity recognition service for mobile phones [C]//Proc of IEEE International Symposium on Wearable Computers.2010.2010:1-8.   \n[10] HanJiawei,Kamber M,Pei Jian,et al.数据挖掘：概念与技术[M]. 范明，孟小峰，译．北京：机械工业出版社，2012.(HanJiawei, Kamber M,Pei Jian,et al.Data mining:concepts and technology [M]. Trans.Fan Ming,Meng Xiaofeng.Beijing:Machinery Industry Press, 2012.)   \n[11] Tsui KL,Victoria C,Wei Jiang.Data mining methods and applications [M].London :Springer, 2006.   \n[12]WittenIH,Frank Ee，威滕，等．数据挖掘实用机器学习技术[M]. 北京：机械工业出版社，2006.(WittenIH,Frank E,Witeng，etal. Practical machine learning techniques for data mining [M].Beijing: China Machine Press,2006)   \n[13]王斯盾，琚生根．基于Android 的嵌入式系统综合实验设计[J].实 验技术与管理，2017,34(12):168-171.(Wang Sidun,Ju Shenggen, Integrated experimental design of embedded system based on Android [J]．Experimental technology and management，2017，34 (12): 168-171.)   \n[14]Bugdol M D,Mitas A W,Grzegorzek M,et al.Human activity recognitionusingsmartphonesensors[M].[S.l.]:Information Technologies in Medicine；Springer International Publishing,2016.   \n[15]朱响斌，邱慧玲．基于智能手机传感器数据的人类行为识别研究 [J]．计算机工程与应用，2016,52(23):1-5,49.(Zhu Xiangbin,Qiu Huiling.Research on human behavior recognition based on smartphone sensor data [J].Computer Engineering and Application,2O16,52 (23): 1-5,49. ) ",
        "page_idx": 4
    },
    {
        "type": "text",
        "text": "",
        "page_idx": 5
    },
    {
        "type": "text",
        "text": "",
        "page_idx": 5
    }
]